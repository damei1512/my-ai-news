<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI æ¯æ—¥è§‚å¯Ÿå®¤</title>
    <style>
        /* ==================== æ ¸å¿ƒæ ·å¼åŒº (æœ¬åœ°é˜²å¼¹ç‰ˆ) ==================== */
        /* è¿™äº›æ ·å¼ç›´æ¥å†™åœ¨æ–‡ä»¶é‡Œï¼Œä¸éœ€è¦ä¸‹è½½ï¼Œç»å¯¹ä¸ä¼šå´© */
        
        :root {
            --primary: #2563eb;       /* ä¸»é¢˜è“ */
            --bg-page: #f8fafc;       /* é¡µé¢èƒŒæ™¯ */
            --bg-card: #ffffff;       /* å¡ç‰‡èƒŒæ™¯ */
            --text-main: #0f172a;     /* ä¸»æ–‡å­— */
            --text-sub: #64748b;      /* æ¬¡è¦æ–‡å­— */
            --border: #e2e8f0;        /* è¾¹æ¡†è‰² */
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: var(--bg-page);
            color: var(--text-main);
            margin: 0;
            padding: 20px 16px;
            line-height: 1.6;
        }

        /* å¸ƒå±€å®¹å™¨ */
        .container { max-width: 720px; margin: 0 auto; }

        /* å¤´éƒ¨æ ·å¼ */
        header { margin-bottom: 24px; display: flex; flex-direction: column; gap: 8px; }
        @media (min-width: 640px) {
            header { flex-direction: row; justify-content: space-between; align-items: flex-end; }
        }
        
        h1 { margin: 0; font-size: 28px; font-weight: 900; letter-spacing: -0.5px; display: flex; align-items: center; gap: 8px; }
        .pro-badge { background: var(--primary); color: white; font-size: 11px; padding: 2px 6px; border-radius: 99px; text-transform: uppercase; vertical-align: middle; }
        .subtitle { margin: 4px 0 0; color: var(--text-sub); font-size: 14px; }
        
        .status-pill {
            display: inline-flex; align-items: center; gap: 6px;
            background: white; border: 1px solid var(--border);
            padding: 4px 10px; border-radius: 99px;
            font-size: 12px; color: var(--text-sub);
        }
        .dot { width: 8px; height: 8px; background: #22c55e; border-radius: 50%; display: inline-block; }

        /* æ§ä»¶åŒºï¼šæ—¥æœŸå’Œç­›é€‰ */
        .controls { margin-bottom: 32px; display: flex; flex-direction: column; gap: 16px; }

        /* æ—¥æœŸæ—¶é—´è½´ */
        .date-scroll { 
            display: flex; gap: 8px; overflow-x: auto; padding-bottom: 4px; 
            scrollbar-width: none; /* Firefox */
        }
        .date-scroll::-webkit-scrollbar { display: none; } /* Chrome/Safari */
        
        .date-btn {
            flex-shrink: 0; min-width: 70px;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            padding: 8px 12px; border-radius: 99px;
            border: 1px solid var(--border); background: white;
            color: var(--text-sub); cursor: pointer; transition: all 0.2s;
        }
        .date-btn.active { background: #1e293b; color: white; border-color: #1e293b; }
        .date-date { font-size: 12px; opacity: 0.8; }
        .date-week { font-size: 14px; font-weight: bold; line-height: 1.2; }

        /* ç­›é€‰å™¨å¼€å…³ */
        .filter-container { display: flex; justify-content: center; }
        @media (min-width: 640px) { .filter-container { justify-content: flex-start; } }
        
        .filter-wrapper {
            background: #e2e8f0; padding: 4px; border-radius: 99px;
            display: inline-flex; position: relative;
        }
        .filter-item {
            position: relative; z-index: 2;
            padding: 6px 18px; font-size: 14px; font-weight: 600;
            color: #64748b; cursor: pointer; user-select: none;
            transition: color 0.2s;
        }
        .filter-item.active { color: #0f172a; }
        
        /* æ»‘å—åŠ¨ç”» */
        .filter-slider {
            position: absolute; top: 4px; left: 4px; bottom: 4px;
            width: calc(33.33% - 5px); /* è¿‘ä¼¼ä¸‰åˆ†ä¹‹ä¸€ */
            background: white; border-radius: 99px;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
            transition: transform 0.2s ease; z-index: 1;
        }

        /* æ–°é—»å¡ç‰‡ */
        .news-list { display: grid; gap: 20px; }
        
        .card {
            background: var(--bg-card); border-radius: 16px;
            border: 1px solid var(--border);
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.02);
            transition: transform 0.2s, box-shadow 0.2s;
            text-decoration: none; display: block; /* è®©å¡ç‰‡æœ¬èº«ä½œä¸ºå—çº§ */
        }
        .card:hover { transform: translateY(-3px); box-shadow: 0 10px 20px rgba(0,0,0,0.08); }

        .card-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 12px; }
        .tags { display: flex; gap: 8px; }
        .tag { 
            font-size: 11px; font-weight: bold; padding: 3px 6px; border-radius: 4px; 
            border: 1px solid transparent;
        }
        /* æ ‡ç­¾é¢œè‰² */
        .tag.blue { background: #eff6ff; color: #2563eb; border-color: #dbeafe; }
        .tag.red { background: #fef2f2; color: #dc2626; border-color: #fee2e2; }
        .tag.gray { background: #f8fafc; color: #64748b; border-color: #e2e8f0; }

        .icon-link { color: #cbd5e1; transition: color 0.2s; }
        .card:hover .icon-link { color: var(--primary); }
        .icon-link svg { width: 20px; height: 20px; display: block; } /* é”æ­»å›¾æ ‡å¤§å° */

        .card-title {
            font-size: 18px; font-weight: 700; color: #1e293b;
            margin: 0 0 10px 0; line-height: 1.4;
        }
        .card-title:hover { color: var(--primary); }

        .card-summary {
            font-size: 14px; color: #475569; margin-bottom: 16px;
            text-align: justify;
        }

        .card-footer {
            padding-top: 12px; border-top: 1px solid #f1f5f9;
            display: flex; justify-content: space-between; align-items: center; gap: 12px;
        }
        
        .comment-box {
            background: #f8fafc; padding: 8px 12px; border-radius: 8px;
            font-size: 12px; color: #64748b; font-style: italic; flex: 1;
            border: 1px solid #e2e8f0;
        }
        
        .btn-read {
            font-size: 13px; font-weight: 600; color: var(--primary);
            background: #eff6ff; padding: 6px 12px; border-radius: 8px;
            text-decoration: none; white-space: nowrap;
            display: inline-flex; align-items: center; gap: 4px;
        }
        .btn-read:hover { background: #dbeafe; }
        .btn-read svg { width: 14px; height: 14px; }

        /* éª¨æ¶å±åŠ è½½æ€ */
        .skeleton { background: #f1f5f9; border-radius: 8px; animation: pulse 1.5s infinite; }
        @keyframes pulse { 0% { opacity: 0.6; } 50% { opacity: 1; } 100% { opacity: 0.6; } }

        /* åº•éƒ¨ */
        footer { margin-top: 40px; text-align: center; font-size: 12px; color: #94a3b8; padding-bottom: 20px; }
    </style>
</head>
<body>
    
    <div class="container">
        <header>
            <div>
                <h1>AI Daily <span class="pro-badge">Pro</span></h1>
                <p class="subtitle">Gemini é©±åŠ¨çš„å…¨çƒç§‘æŠ€å†…å‚</p>
            </div>
            <div class="status-pill">
                <span class="dot"></span>
                <span id="update-text">æ­£åœ¨è¿æ¥...</span>
            </div>
        </header>

        <div class="controls">
            <nav id="date-tabs" class="date-scroll">
                <div class="skeleton" style="width: 70px; height: 50px; border-radius: 25px; flex-shrink: 0;"></div>
                <div class="skeleton" style="width: 70px; height: 50px; border-radius: 25px; flex-shrink: 0;"></div>
            </nav>

            <div class="filter-container">
                <div class="filter-wrapper">
                    <div id="slider" class="filter-slider" style="transform: translateX(0px);"></div>
                    <div class="filter-item active" onclick="setFilter('global', this, 0)">å…¨çƒ</div>
                    <div class="filter-item" onclick="setFilter('å›½å¤–', this, 1)">å›½å¤–</div>
                    <div class="filter-item" onclick="setFilter('å›½å†…', this, 2)">å›½å†…</div>
                </div>
            </div>
        </div>

        <main id="news-container" class="news-list">
            <div class="card" style="height: 200px;">
                <div class="skeleton" style="width: 30%; height: 20px; margin-bottom: 15px;"></div>
                <div class="skeleton" style="width: 80%; height: 24px; margin-bottom: 15px;"></div>
                <div class="skeleton" style="width: 100%; height: 16px; margin-bottom: 8px;"></div>
                <div class="skeleton" style="width: 90%; height: 16px;"></div>
            </div>
        </main>

        <footer>Â© 2026 AI Daily Monitor Â· Designed by Gemini</footer>
    </div>

    <script>
        let archiveData = {};
        let currentFilter = 'global';
        let currentDate = '';

        // ç­›é€‰é€»è¾‘
        function setFilter(type, el, index) {
            currentFilter = type;
            
            // UI æ›´æ–°
            document.querySelectorAll('.filter-item').forEach(item => item.classList.remove('active'));
            el.classList.add('active');
            
            // æ»‘å—ç§»åŠ¨
            const slider = document.getElementById('slider');
            slider.style.transform = `translateX(${index * 100}%)`;

            renderNews(currentDate);
        }

        // æ¸²æŸ“æ–°é—»å¡ç‰‡
        function renderNews(date) {
            currentDate = date;
            const container = document.getElementById('news-container');
            const data = archiveData[date];

            container.style.opacity = '0.5';
            
            setTimeout(() => {
                container.innerHTML = '';
                
                if (!data || !data.articles || data.articles.length === 0) {
                    container.innerHTML = `<div style="text-align:center; padding: 40px; color: #94a3b8;">ğŸ“­ æš‚æ— æ•°æ®</div>`;
                } else {
                    const filtered = data.articles.filter(item => {
                        if (currentFilter === 'global') return true;
                        // å…¼å®¹æ—§æ•°æ®
                        const itemCat = item.category || 'å›½å¤–'; 
                        return itemCat === currentFilter;
                    });

                    if (filtered.length === 0) {
                        container.innerHTML = `<div style="text-align:center; padding: 40px; color: #94a3b8;">è¯¥åˆ†ç±»ä¸‹æš‚æ— æ–°é—»</div>`;
                    } else {
                        filtered.forEach(item => {
                            // æ ·å¼é€»è¾‘
                            const isDomestic = item.category === 'å›½å†…';
                            const tagClass = isDomestic ? 'red' : 'blue';
                            const tagName = item.category || 'å›½å¤–';

                            const html = `
                                <div class="card">
                                    <div class="card-header">
                                        <div class="tags">
                                            <span class="tag ${tagClass}">${tagName}</span>
                                            <span class="tag gray">${item.tag || 'AI'}</span>
                                        </div>
                                        <a href="${item.link}" target="_blank" class="icon-link">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>
                                        </a>
                                    </div>
                                    
                                    <h2 class="card-title">
                                        <a href="${item.link}" target="_blank" style="text-decoration:none; color:inherit;">${item.title}</a>
                                    </h2>
                                    
                                    <p class="card-summary">${item.summary}</p>
                                    
                                    <div class="card-footer">
                                        <div class="comment-box">
                                            ğŸ¤– ${item.comment || 'æš‚æ— è¾£è¯„'}
                                        </div>
                                        <a href="${item.link}" target="_blank" class="btn-read">
                                            é˜…è¯»
                                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
                                        </a>
                                    </div>
                                </div>
                            `;
                            container.innerHTML += html;
                        });
                    }
                }
                container.style.opacity = '1';
            }, 100);
        }

        // åˆå§‹åŒ–æ—¥æœŸæ 
        function initTabs(dates) {
            const tabContainer = document.getElementById('date-tabs');
            tabContainer.innerHTML = ''; 

            dates.forEach((date, index) => {
                const dayInfo = archiveData[date].week || 'News';
                const displayDate = date.substring(5).replace('-', '.'); // 02.12
                
                const btn = document.createElement('div');
                const isToday = index === 0;
                
                btn.className = `date-btn ${isToday ? 'active' : ''}`;
                btn.innerHTML = `<span class="date-date">${displayDate}</span><span class="date-week">${dayInfo}</span>`;

                btn.onclick = () => {
                    document.querySelectorAll('.date-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    renderNews(date);
                };

                tabContainer.appendChild(btn);
            });
        }

        // åŠ è½½æ•°æ®
        fetch('news.json?v=' + new Date().getTime())
            .then(res => res.json())
            .then(data => {
                if (!data || Object.keys(data).length === 0) throw new Error("Empty Data");
                archiveData = data;
                const sortedDates = Object.keys(data).sort().reverse();
                
                document.getElementById('update-text').textContent = 'å·²åŒæ­¥';
                document.querySelector('.dot').style.background = '#22c55e';
                
                initTabs(sortedDates);
                renderNews(sortedDates[0]);
            })
            .catch(err => {
                console.error(err);
                document.getElementById('news-container').innerHTML = `<div style="text-align:center; padding:40px; color:#ef4444;">âŒ æ•°æ®åŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œæˆ–ç¨ååˆ·æ–°</div>`;
            });
    </script>
</body>
</html>
